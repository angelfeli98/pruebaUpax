(self.webpackChunkupax_prueba=self.webpackChunkupax_prueba||[]).push([[771],{2771:(t,e,i)=>{"use strict";i.r(e),i.d(e,{UsersModule:()=>h});var n=i(8583),s=i(216),r=i(665),o=i(4612),a=i(3018),l=i(8386),u=i(3081);function c(t,e){if(1&t&&(a.TgZ(0,"tr"),a.TgZ(1,"th",21),a._uU(2),a.qZA(),a.TgZ(3,"td"),a._uU(4),a.qZA(),a.TgZ(5,"td"),a._uU(6),a.qZA(),a.TgZ(7,"td"),a._uU(8),a.ALo(9,"date"),a.qZA(),a.qZA()),2&t){const t=e.$implicit;a.xp6(2),a.Oqu(t.index+1),a.xp6(2),a.Oqu(t.name),a.xp6(2),a.Oqu(t.last_name),a.xp6(2),a.Oqu(a.xi3(9,4,t.birthday,"d/MM/YYYY"))}}function g(t,e){if(1&t){const t=a.EpF();a.TgZ(0,"button",22),a.NdJ("click",function(){return a.CHM(t),a.oxw().nav(!0)}),a._uU(1," Previo "),a.qZA()}}function d(t,e){if(1&t){const t=a.EpF();a.TgZ(0,"button",22),a.NdJ("click",function(){return a.CHM(t),a.oxw().nav(!1)}),a._uU(1," Siguiente "),a.qZA()}}const m=function(t){return{"is-invalid":t}},Z=[{path:"",component:(()=>{class t{constructor(t,e,i){this.userService=t,this.fb=e,this.alertService=i,this.ussers=[],this.paginator=[],this.filter=[],this.size=10,this.index=1,this.len=0,this.makeFomr=()=>{this.form=this.fb.group({name:new r.NI("",[r.kI.required,r.kI.maxLength(30)]),last_name:new r.NI("",[r.kI.required,r.kI.maxLength(30)]),birthday:new r.NI("",[r.kI.required])})},this.loadTable=t=>{this.ussers=t.map((t,e)=>Object.assign(Object.assign({},t),{index:e})),this.len=this.ussers.length,this.filtrar("")},this.paginar=()=>{this.len=this.filter.length;const t=(this.index-1)*this.size;this.paginator=this.filter.slice(t,t+this.size)},this.nav=t=>{this.index=t?this.index-1:this.index+1,this.paginar()},this.filtrar=t=>{const e=new RegExp(t,"gi");this.filter=this.ussers.filter(i=>0===t.length||e.test(i.name)||e.test(i.last_name)||e.test(i.index.toString())),this.paginar()},this.onSubmit=()=>{if(this.form.valid){const e=this.form.value.birthday,i=Object.assign(Object.assign({},this.form.value),{birthday:e.split("-").join("/")});this.userService.postUser(i).pipe((t=this.userService.getUser,(0,o.b)(()=>t,void 0))).subscribe(t=>{this.alertService.getAlert("success","Usuario creado","El usuario ha sido creado con exito"),this.loadTable(t)})}var t},this.userService.getUser.subscribe(this.loadTable),this.makeFomr()}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)(a.Y36(l.K),a.Y36(r.qu),a.Y36(u.c))},t.\u0275cmp=a.Xpm({type:t,selectors:[["app-users"]],decls:53,vars:18,consts:[[1,"tab"],[1,"row"],[1,"col"],["placeholder","Filtrar","type","text",1,"form-control","mb-2",3,"keyup"],["input",""],[1,"table"],["scope","col"],[4,"ngFor","ngForOf"],[1,"buttons","text-center"],["class","mr-2","class","btn btn-success",3,"click",4,"ngIf"],["class","ml-2","class","btn btn-success",3,"click",4,"ngIf"],[1,"row","mb-5"],[3,"formGroup","ngSubmit"],[1,"mb-3","row"],[1,"col-sm-2","col-form-label"],[1,"col-sm-10"],["formControlName","name","type","text",1,"form-control",3,"ngClass"],["id","validationServer05Feedback",1,"invalid-feedback"],["formControlName","last_name","type","text",1,"form-control",3,"ngClass"],["formControlName","birthday","type","date",1,"form-control",3,"ngClass"],["type","submit",1,"btn","btn-success"],["scope","row"],[1,"btn","btn-success",3,"click"]],template:function(t,e){if(1&t){const t=a.EpF();a.TgZ(0,"div",0),a.TgZ(1,"div",1),a.TgZ(2,"div",2),a.TgZ(3,"input",3,4),a.NdJ("keyup",function(){a.CHM(t);const i=a.MAs(4);return e.filtrar(i.value)}),a.qZA(),a.qZA(),a.qZA(),a.TgZ(5,"div",1),a.TgZ(6,"div",2),a.TgZ(7,"table",5),a.TgZ(8,"thead"),a.TgZ(9,"tr"),a.TgZ(10,"th",6),a._uU(11,"#"),a.qZA(),a.TgZ(12,"th",6),a._uU(13,"Nombre"),a.qZA(),a.TgZ(14,"th",6),a._uU(15,"Apellido"),a.qZA(),a.TgZ(16,"th",6),a._uU(17,"Fecha nacimiento"),a.qZA(),a.qZA(),a.qZA(),a.TgZ(18,"tbody"),a.YNc(19,c,10,7,"tr",7),a.qZA(),a.qZA(),a.TgZ(20,"p"),a._uU(21),a.qZA(),a.qZA(),a.qZA(),a.TgZ(22,"div",1),a.TgZ(23,"div",2),a.TgZ(24,"div",8),a.YNc(25,g,2,0,"button",9),a.YNc(26,d,2,0,"button",10),a.qZA(),a.qZA(),a.qZA(),a.TgZ(27,"div",11),a.TgZ(28,"div",2),a.TgZ(29,"form",12),a.NdJ("ngSubmit",function(){return e.onSubmit()}),a.TgZ(30,"div",13),a.TgZ(31,"label",14),a._uU(32,"Nombre:"),a.qZA(),a.TgZ(33,"div",15),a._UZ(34,"input",16),a.TgZ(35,"div",17),a._uU(36),a.qZA(),a.qZA(),a.qZA(),a.TgZ(37,"div",13),a.TgZ(38,"label",14),a._uU(39,"Apellidos:"),a.qZA(),a.TgZ(40,"div",15),a._UZ(41,"input",18),a.TgZ(42,"div",17),a._uU(43),a.qZA(),a.qZA(),a.qZA(),a.TgZ(44,"div",13),a.TgZ(45,"label",14),a._uU(46,"Fecha nacimiento:"),a.qZA(),a.TgZ(47,"div",15),a._UZ(48,"input",19),a.TgZ(49,"div",17),a._uU(50," La fecha de nacimiento es requerido "),a.qZA(),a.qZA(),a.qZA(),a.TgZ(51,"button",20),a._uU(52," Registrar usuario "),a.qZA(),a.qZA(),a.qZA(),a.qZA(),a.qZA()}if(2&t){let t,i,n,s,r;a.xp6(19),a.Q6J("ngForOf",e.paginator),a.xp6(2),a.lnq(" ",(e.index-1)*e.size+1," / ",(e.index-1)*e.size+e.size<e.len?(e.index-1)*e.size+e.size:e.len," - ",e.len," "),a.xp6(4),a.Q6J("ngIf",e.index>1),a.xp6(1),a.Q6J("ngIf",(e.index-1)*e.size+e.size<=e.len),a.xp6(3),a.Q6J("formGroup",e.form),a.xp6(5),a.Q6J("ngClass",a.VKq(12,m,(null==(t=e.form.get("name"))?null:t.errors)&&(null==(t=e.form.get("name"))?null:t.touched))),a.xp6(2),a.hij(" ",null!=(i=e.form.get("name"))&&i.hasError("required")?"El nombre es requerido":"Maxima longitud 30 caracteres"," "),a.xp6(5),a.Q6J("ngClass",a.VKq(14,m,(null==(n=e.form.get("last_name"))?null:n.errors)&&(null==(n=e.form.get("last_name"))?null:n.touched))),a.xp6(2),a.hij(" ",null!=(s=e.form.get("last_name"))&&s.hasError("required")?"El apellido es requerido":"Maxima longitud 30 caracteres"," "),a.xp6(5),a.Q6J("ngClass",a.VKq(16,m,(null==(r=e.form.get("birthday"))?null:r.errors)&&(null==(r=e.form.get("birthday"))?null:r.touched)))}},directives:[n.sg,n.O5,r._Y,r.JL,r.sg,r.Fj,r.JJ,r.u,n.mk],pipes:[n.uU],styles:[".tab[_ngcontent-%COMP%]{margin:auto;margin-top:30px!important;margin-bottom:30px!important;width:70%}.buttons[_ngcontent-%COMP%]{margin:20px 10px 50px!important}"]}),t})()}];let p=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=a.oAB({type:t}),t.\u0275inj=a.cJS({providers:[],imports:[[s.Bz.forChild(Z)],s.Bz]}),t})(),h=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=a.oAB({type:t}),t.\u0275inj=a.cJS({providers:[],imports:[[n.ez,p,r.UX]]}),t})()}}]);